<!doctype html><html lang=en-us><head><title>在Windows下用Scoop安装软件 // 无名空间</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.110.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="oaheix"><meta name=description content><link rel=stylesheet href=/css/main.min.3c3c186cd62e563ad6e2f00a89dbee656ab912d1d46f856b5605dd0232521e2a.css><meta name=twitter:card content="summary"><meta name=twitter:title content="在Windows下用Scoop安装软件"><meta name=twitter:description content="[toc]
简介 工欲善其事，必先利其器。
使用电脑从安装软件开始，目前有多种安装软件的方式，主流方式即通过下载安装包安装所需软件，不赘述；此外，亦可通过命令行方式进行。在Windows平台上常见的命令行安装方式包括 Chocolatey 与 Scoop 等，前者出现较早，限制颇多，故本文采用后者。
Scoop 是一款 Windows 平台上基于命令行的软件包管理器，类似 macOS 与 Linux 平台上的 Homebrew ，可用于管理软件的安装、卸载、更新等，具有如下特点：
简洁：纯命令行操作，可批量管理软件，无需通过访问网页方式下载安装； 省心：自动管理依赖关系、自动设置环境变量、自动识别 32/64 位； 绿色：不污染系统环境（注册表），所有相关文件（包括已安装软件与配置文件等）均在指定路径下； 便携：便于在重装系统后或在新电脑上快速恢复或迁移已安装软件（包括部分配置信息）； 丰富：除官方仓库外，尚支持第三方自定义仓库，极大程度丰富了可管理软件的种类。 安装与卸载 前提条件 系统中必须有最新版的 PowerShell 或 Windows PowerShell 5.1 及以上版本 为允许执行安装程序，PowerShell执行策略必须是以下之一：Unrestricted,RemoteSigned 或 ByPass，一般选用RemoteSigned 在 PowerShell 中输入： Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser 输入y表示同意 安装Scoop 注意：鉴于目前国内网络环境问题，若无法科学上网，可参考迁移与维护一节。
默认安装 该方式集下载、安装于一体，且安装至C:\\Users\<你的用户名>\scoop路径下。
以非管理员账户运行 PowerShell 并输入以下命令： irm get.scoop.sh | iex 若遇网络问题，可加入代理选项（亦适用于下述高级安装）： irm get.scoop.sh -Proxy 'http://<IP地址:端口号>' | iex 高级安装 该方式可将各步骤拆分完成，且可自定义安装路径、权限等。
首先下载所需安装脚本并另存为scoop-installer.ps1： irm get.scoop.sh -outfile 'scoop-installer."><meta property="og:title" content="在Windows下用Scoop安装软件"><meta property="og:description" content="[toc]
简介 工欲善其事，必先利其器。
使用电脑从安装软件开始，目前有多种安装软件的方式，主流方式即通过下载安装包安装所需软件，不赘述；此外，亦可通过命令行方式进行。在Windows平台上常见的命令行安装方式包括 Chocolatey 与 Scoop 等，前者出现较早，限制颇多，故本文采用后者。
Scoop 是一款 Windows 平台上基于命令行的软件包管理器，类似 macOS 与 Linux 平台上的 Homebrew ，可用于管理软件的安装、卸载、更新等，具有如下特点：
简洁：纯命令行操作，可批量管理软件，无需通过访问网页方式下载安装； 省心：自动管理依赖关系、自动设置环境变量、自动识别 32/64 位； 绿色：不污染系统环境（注册表），所有相关文件（包括已安装软件与配置文件等）均在指定路径下； 便携：便于在重装系统后或在新电脑上快速恢复或迁移已安装软件（包括部分配置信息）； 丰富：除官方仓库外，尚支持第三方自定义仓库，极大程度丰富了可管理软件的种类。 安装与卸载 前提条件 系统中必须有最新版的 PowerShell 或 Windows PowerShell 5.1 及以上版本 为允许执行安装程序，PowerShell执行策略必须是以下之一：Unrestricted,RemoteSigned 或 ByPass，一般选用RemoteSigned 在 PowerShell 中输入： Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser 输入y表示同意 安装Scoop 注意：鉴于目前国内网络环境问题，若无法科学上网，可参考迁移与维护一节。
默认安装 该方式集下载、安装于一体，且安装至C:\\Users\<你的用户名>\scoop路径下。
以非管理员账户运行 PowerShell 并输入以下命令： irm get.scoop.sh | iex 若遇网络问题，可加入代理选项（亦适用于下述高级安装）： irm get.scoop.sh -Proxy 'http://<IP地址:端口号>' | iex 高级安装 该方式可将各步骤拆分完成，且可自定义安装路径、权限等。
首先下载所需安装脚本并另存为scoop-installer.ps1： irm get.scoop.sh -outfile 'scoop-installer."><meta property="og:type" content="article"><meta property="og:url" content="http://xiehao.github.io/blogs/2023-01-31-scoop-introduction/"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2023-01-31T10:38:52+08:00"><meta property="article:modified_time" content="2023-01-31T10:38:52+08:00"></head><body><header class=app-header><a href=http://xiehao.github.io/><img class=app-header-avatar src=/xie.png alt=oaheix></a>
<span class=app-header-title>无名空间</span><nav class=app-header-menu><a class=app-header-menu-item href=/>主页</a>
-
<a class=app-header-menu-item href=/tags/>标签</a>
-
<a class=app-header-menu-item href=/about/>关于</a></nav><p>一名淡定男教师的点滴分享</p><div class=app-header-social><a href=https://github.com/xiehao target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=mailto:oaheix@gmail.com target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-mail"><title>邮箱</title><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>在Windows下用Scoop安装软件</h1><div class=post-meta><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Jan 31, 2023</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 min read</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=http://xiehao.github.io/tags/scoop/>scoop</a>
<a class=tag href=http://xiehao.github.io/tags/%E6%95%99%E7%A8%8B/>教程</a></div></div></header><div class=post-content><p>[toc]</p><h3 id=简介>简介</h3><blockquote><p>工欲善其事，必先利其器。</p></blockquote><p>使用电脑从安装软件开始，目前有多种安装软件的方式，主流方式即通过下载安装包安装所需软件，不赘述；此外，亦可通过命令行方式进行。在Windows平台上常见的命令行安装方式包括<a href=https://chocolatey.org> Chocolatey </a>与<a href=https://scoop.sh> Scoop </a>等，前者出现较早，限制颇多，故本文采用后者。</p><p>Scoop 是一款 Windows 平台上基于命令行的<strong>软件包管理器</strong>，类似 macOS 与 Linux 平台上的<a href=https://brew.sh> Homebrew </a>，可用于管理软件的安装、卸载、更新等，具有如下特点：</p><ul><li><strong>简洁</strong>：纯命令行操作，可批量管理软件，无需通过访问网页方式下载安装；</li><li><strong>省心</strong>：自动管理依赖关系、自动设置环境变量、自动识别 32/64 位；</li><li><strong>绿色</strong>：不污染系统环境（注册表），所有相关文件（包括已安装软件与配置文件等）均在指定路径下；</li><li><strong>便携</strong>：便于在重装系统后或在新电脑上快速恢复或迁移已安装软件（包括部分配置信息）；</li><li><strong>丰富</strong>：除官方仓库外，尚支持第三方自定义仓库，极大程度丰富了可管理软件的种类。</li></ul><h3 id=安装与卸载>安装与卸载</h3><h4 id=前提条件>前提条件</h4><ul><li>系统中必须有最新版的<a href=https://learn.microsoft.com/zh-cn/powershell/> PowerShell</a> 或 Windows PowerShell 5.1 及以上版本</li><li>为允许执行安装程序，PowerShell执行策略必须是以下之一：<code>Unrestricted</code>,<code>RemoteSigned</code> 或 <code>ByPass</code>，一般选用<code>RemoteSigned</code><ul><li>在 PowerShell 中输入：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
</span></span></code></pre></div></li><li>输入<code>y</code>表示同意</li></ul></li></ul><h4 id=安装scoop>安装Scoop</h4><blockquote><p>注意：鉴于目前国内网络环境问题，若无法科学上网，可参考<strong>迁移与维护</strong>一节。</p></blockquote><h5 id=默认安装>默认安装</h5><p>该方式集下载、安装于一体，且安装至<code>C:\\Users\&lt;你的用户名>\scoop</code>路径下。</p><ul><li>以非管理员账户运行 PowerShell 并输入以下命令：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>irm get.scoop.sh | iex
</span></span></code></pre></div></li><li>若遇网络问题，可加入代理选项（亦适用于下述高级安装）：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>irm get.scoop.sh -Proxy <span style=color:#e6db74>&#39;http://&lt;IP地址:端口号&gt;&#39;</span> | iex
</span></span></code></pre></div></li></ul><h5 id=高级安装>高级安装</h5><p>该方式可将各步骤拆分完成，且可自定义安装路径、权限等。</p><ul><li>首先下载所需安装脚本并另存为<code>scoop-installer.ps1</code>：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>irm get.scoop.sh -outfile <span style=color:#e6db74>&#39;scoop-installer.ps1&#39;</span>
</span></span></code></pre></div></li><li>在利用脚本安装时按需设置安装参数，如设置普通软件与全局软件的安装路径、网络代理
等信息：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>.\scoop-installer.ps1 -ScoopDir <span style=color:#e6db74>&#39;D:\scoop&#39;</span> -ScoopGlobalDir <span style=color:#e6db74>&#39;D:\scoop-global&#39;</span> -Proxy <span style=color:#e6db74>&#39;http://&lt;IP地址:端口号&gt;&#39;</span>
</span></span></code></pre></div></li></ul><h5 id=测试>测试</h5><ul><li>重新打开 PowerShell 并输入<code>scoop</code>命令，若出现帮助提示，则说明安装成功：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Usage: scoop &lt;command&gt; [&lt;args&gt;]
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Available commands are listed below.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Type &#39;scoop help &lt;command&gt;&#39; to get more help for a specific command.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Command    Summary
</span></span><span style=display:flex><span>-------    -------
</span></span><span style=display:flex><span>alias      Manage scoop aliases
</span></span><span style=display:flex><span>bucket     Manage Scoop buckets
</span></span><span style=display:flex><span>cache      Show or clear the download cache
</span></span><span style=display:flex><span>...
</span></span></code></pre></div></li></ul><h4 id=卸载scoop>卸载Scoop</h4><ul><li>卸载Scoop将同时卸载<strong>所有</strong>通过Scoop安装的软件与相关配置文件：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop uninstall scoop
</span></span></code></pre></div></li></ul><h3 id=基本用法>基本用法</h3><h4 id=搜索安装与卸载>搜索、安装与卸载</h4><ul><li>在安装前，一般需确认待安装软件是否存在于远程仓库中，可在<a href=https://scoop.sh>官网</a>按关键字搜索；亦可通过<code>search</code>子命令，如搜索<code>git</code>，则会列出所有与<code>git</code>相关的软件：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop search git
</span></span></code></pre></div></li><li>在确认所需软件确实存在后，可直接通过<code>install</code>子命令与通过搜索列出的<strong>完整软件名</strong>安装所需软件，如安装<code>git</code>：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop install git
</span></span></code></pre></div></li><li>若需卸载，则可通过<code>uninstall</code>子命令与<strong>完整软件名</strong>进行：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop uninstall git
</span></span></code></pre></div></li></ul><h4 id=更新查看与维护>更新、查看与维护</h4><ul><li>若软件有新版本，可通过<code>update</code>子命令实现对指定已安装软件进行更新，如更新<code>git</code>与<code>7zip</code>：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop update git 7zip
</span></span></code></pre></div></li><li>若需批量更新<strong>全部</strong>已安装软件，可用正则表达式匹配：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop update *
</span></span></code></pre></div></li><li>若只更新 Scoop 本身，则无需其他参数：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop update
</span></span></code></pre></div></li><li>可通过<code>checkup</code>子命令查看可能出现的问题：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop checkup
</span></span></code></pre></div></li><li>可通过<code>cleanup</code>子命令删除旧版本软件，如清理所有旧版本软件：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop cleanup *
</span></span></code></pre></div></li><li>可通过<code>cache</code>子命令管理缓存文件夹，如清理所有缓存文件：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop cache rm *
</span></span></code></pre></div></li></ul><h3 id=扩展仓库>扩展仓库</h3><p>在 Scoop 中称<code>bucket</code>为软件仓库，用于存放各种软件的安装脚本信息。在默认情况下只支持<code>main</code>仓库，该库中仅包含少量基本的非图形界面工具软件，如<code>git</code>、<code>7zip</code>等，可通过加入其他仓库丰富软件资源：</p><ul><li><strong>官方仓库</strong>：由官方维护，软件质量有保障，但软件数量较少，可通过下述命令查看支持的官方仓库：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop bucket known
</span></span></code></pre></div></li><li><strong>第三方仓库</strong>：任何人均可创建自己的仓库并发布，可发现许多无法在官方仓库找到的软件，但无法保证软件质量。</li></ul><h4 id=添加查看与删除仓库>添加、查看与删除仓库</h4><ul><li>在添加官方仓库时，只需加入<strong>仓库名</strong>作为参数即可，如加入<code>extras</code>仓库：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop bucket add extras
</span></span></code></pre></div></li><li>若需添加第三方仓库，则需同时加入<strong>仓库名</strong>与<strong>仓库地址</strong>作为参数，如加入<code>KarasuShin/scoop-bucket</code>仓库（在本地命名该仓库为<code>KarasuShin_scoop-bucket</code>）：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop bucket add KarasuShin_scoop-bucket https<span style=color:#960050;background-color:#1e0010>:</span>//github.com/KarasuShin/scoop-bucket
</span></span></code></pre></div></li><li>可用<code>list</code>子命令查看已添加仓库：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop bucket list
</span></span></code></pre></div></li><li>若需删除仓库，需指定待删除仓库名，如删除<code>KarasuShin/scoop-bucket</code>仓库：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>scoop bucket rm KarasuShin_scoop-bucket
</span></span></code></pre></div></li></ul><h3 id=迁移与维护>迁移与维护</h3><blockquote><p>注意：若有他人已安装的 Scoop 软件，则无法通过网络安装的读者可采用该方法迁移安装。</p></blockquote><p>因 Scoop 本身绿色环保，故当装或重装新系统后可通过如下简单步骤迁移已安装软件与配置文件至新平台，以便快速进入工作状态：</p><h4 id=在已有平台上的准备工作>在已有平台上的准备工作</h4><ul><li>进入通过 Scoop 安装的应用程序路径（如<code>D:\scoop\apps</code>），该路径中包括所有通过 Scoop 安装的软件，依次进入每个文件夹（<code>scoop</code>文件夹除外）并删除其内的<code>current</code>快捷方式，否则在压缩时该快捷方式将变成实际文件夹，并与原始文件夹重复，造成压缩文件翻倍；</li><li>利用 Windows 自带工具压缩 Scoop 文件夹（如<code>D:\scoop</code>）为<code>zip</code>文件（如<code>scoop.zip</code>），以便在新系统中能顺利解压，其他压缩格式可能无法顺利解压。</li></ul><h4 id=在新平台上所作的工作>在新平台上所作的工作</h4><ul><li>做好<strong>安装与卸载</strong>的<strong>前提条件</strong>小节中的准备工作；</li><li>将<code>scoop.zip</code>压缩包解压至指定安装路径（如<code>D:\newscoop</code>），并确保该路径下包含<code>apps</code>、<code>buckets</code>、<code>persist</code>、<code>shims</code>等文件夹；</li><li>修改环境变量，以让系统识别<code>scoop</code>命令：<ul><li>添加新环境变量<code>SCOOP</code>，其值为上述解压路径（如<code>D:\newscoop</code>）；</li><li>修改环境变量<code>PATH</code>的值，在该值中添加新项<code>%SCOOP%\shims</code>；</li></ul></li><li>重启 PowerShell 并用<code>reset</code>子命令重置所有软件快捷方式：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>scoop reset *
</span></span></code></pre></div></li></ul><h3 id=总结>总结</h3><p>Scoop 为在 Windows 平台上安装软件提供了一种新思路，具有<strong>简洁</strong>、<strong>省心</strong>、<strong>绿色</strong>、<strong>便携</strong>、<strong>丰富</strong>等优势，值得尝试。</p></div><div class=post-footer></div></article></main></body></html>